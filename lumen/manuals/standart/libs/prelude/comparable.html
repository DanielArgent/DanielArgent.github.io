<!DOCTYPE html>
<html>
	<head>
		<title>prelude.comparable</title>
		<meta charset="utf-8">
		<link rel="stylesheet" href="https://danielargent.github.io/lumen/manuals/standart/css/style.css">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
  	</head>
	<body>
		<div>
			<h1><div class="pure-button" style="font-size: 12px;"><a href="https://danielargent.github.io/manuals/standart/index.html">Back</a></div> prelude.comparable</h1>
		</div>
    	<div class="content">
			<h2>Определение</h2>

			<div class="example code-wrap">
				<span class="lexer_Keyword">module</span> comparable = <br>
				&nbsp;&nbsp;&nbsp;&nbsp;...
			</div>

		  	<p>
				Модуль, содержащий функции сравнения на основе оператора <code>&lt;=></code>
				<div class="warn-quote">Все типы, использующие данный модуль должны иметь оператор <code>&lt;=></code></div>
			</p>

			<div class="example code-wrap">
				<span class="lexer_Comment">// Пользовательская обёртка над типом Number</span><br>
				<span class="lexer_Keyword">type</span> _ = <span class="lexer_Variant">NumWrap</span> a <span class="lexer_Keyword">with</span><br>
				&nbsp;&nbsp;&nbsp;&nbsp;<span class="lexer_Keyword">open</span> comparable<br><br>
				&nbsp;&nbsp;&nbsp;&nbsp;<span class="lexer_Comment">// Реализация модуля comparable</span><br>
				&nbsp;&nbsp;&nbsp;&nbsp;<span class="lexer_Keyword">let</span> &lt;=> this other =<br>
				&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="lexer_Keyword">if</span> this.a &lt; other.a:<br>
				&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="lexer_Keyword">return</span> -1<br>
				&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="lexer_Keyword">if</span> this.a > other.a:<br>
				&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="lexer_Keyword">return</span> 1<br>
				&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="lexer_Keyword">return</span> 0<br><br>
				<span class="lexer_Keyword">let</span> w1 = <span class="lexer_Variant">NumWrap</span> 0<br>
				<span class="lexer_Keyword">let</span> w2 = <span class="lexer_Variant">NumWrap</span> 7<br><br>
				print (w1 &lt; w2) <span class="lexer_Comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//-> true</span><br>
				print (w1 > w2) <span class="lexer_Comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//-> false</span><br>
				print (w1 >= w2) <span class="lexer_Comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//-> false</span><br>
				print (w1.min w2) <span class="lexer_Comment">&nbsp;&nbsp;&nbsp;&nbsp;//-> 0</span><br>
				print (w1.max w2) <span class="lexer_Comment">&nbsp;&nbsp;&nbsp;&nbsp;//-> 7</span><br>
				print (w1.compare w2) <span class="lexer_Comment">//-> -1</span>
			</div>
			
			<h2>Операторы</h2>
			<p>
				<h3><code>&lt;</code></h3>
				<div class="example code-wrap">
					<span class="lexer_Keyword">let</span> &lt; this other =<br>
					&nbsp;&nbsp;&nbsp;&nbsp;compare this other &lt; 0
				</div>
				<p>Производит сравнение двух значений.</p>
				<div class="example code-wrap">
					print (5 &lt; 6) <span class="lexer_Comment">//-> true</span>
				</div>
			</p>
			<p>
				<h3><code>&gt;</code></h3>
				<div class="example code-wrap">
					<span class="lexer_Keyword">let</span> &gt; this other =<br>
					&nbsp;&nbsp;&nbsp;&nbsp;compare this other &gt; 0
				</div>
				<p>Производит сравнение двух значений.</p>
				<div class="example code-wrap">
					print (5 &gt; 6) <span class="lexer_Comment">//-> false</span>
				</div>
			</p>
			<p>
				<h3><code>&lt;=</code></h3>
				<div class="example code-wrap">
					<span class="lexer_Keyword">let</span> &lt;= this other =<br>
					&nbsp;&nbsp;&nbsp;&nbsp;compare this other &lt;= 0
				</div>
				<p>Производит сравнение двух значений.</p>
				<div class="example code-wrap">
					print (5 &lt;= 6) <span class="lexer_Comment">//-> true</span>
				</div>
			</p>
			<p>
				<h3><code>&gt;=</code></h3>
				<div class="example code-wrap">
					<span class="lexer_Keyword">let</span> &gt;= this other =<br>
					&nbsp;&nbsp;&nbsp;&nbsp;compare this other &gt;= 0
				</div>
				<p>Производит сравнение двух значений.</p>
				<div class="example code-wrap">
					print (5 &gt;= 6) <span class="lexer_Comment">//-> false</span>
				</div>
			</p>

			<h2>Функции</h2>
			<p>
				<h3><code>compare</code></h3>
				<div class="example code-wrap">
					<span class="lexer_Keyword">let</span> compare this other =<br>
					&nbsp;&nbsp;&nbsp;&nbsp;this &lt;=&gt; other
				</div>
				<p>Производит сравнение двух значений.</p>
				<div class="example code-wrap">
					print (5.compare 6) <span class="lexer_Comment">//-> -1</span>
				</div>
			</p>

			<p>
				<h3><code>min</code></h3>
				<div class="example code-wrap">
					<span class="lexer_Keyword">let</span> min this other =<br>
					&nbsp;&nbsp;&nbsp;&nbsp;<span class="lexer_Keyword">match</span> this > other<br>
					&nbsp;&nbsp;&nbsp;&nbsp;| true = other<br>
					&nbsp;&nbsp;&nbsp;&nbsp;| _ = this
				</div>
				<p>Возвращает минимальное из двух значений.</p>
				<div class="example code-wrap">
					print (5.min 6) <span class="lexer_Comment">//-> 5</span>
				</div>
			</p>
			<p>
				<h3><code>max</code></h3>
				<div class="example code-wrap">
					<span class="lexer_Keyword">let</span> max this other =<br>
					&nbsp;&nbsp;&nbsp;&nbsp;<span class="lexer_Keyword">match</span> this &lt; other<br>
					&nbsp;&nbsp;&nbsp;&nbsp;| true = other<br>
					&nbsp;&nbsp;&nbsp;&nbsp;| _ = this
				</div>
				<p>Возвращает максимальное из двух значений.</p>
				<div class="example code-wrap">
					print (5.max 6) <span class="lexer_Comment">//-> 6</span>
				</div>
			</p>
		</div>
  </body>
</html>