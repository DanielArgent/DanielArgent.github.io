<!DOCTYPE html>
<html>
  <head>
    <title>LEP-004. Дизайн языка.</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <link rel="stylesheet" href="../../css/metro.css">
    <link rel="stylesheet" href="css/lepstyle.css">    
  </head>
  <body>
    <ul class="h-menu bg-color">
      <li><a href="index.html">Back to LEP Index</a></li>
		</ul>
		<div class="container-fluid lep-content">
			<h2>LEP-004. Дизайн языка.</h2>
			<h3>Введение</h3>
			<p>
				Дизайн языка построен на ряде функциональных языков, таких как F#, Haskell и Ela. 
			</p>
			<h3>Объявление сущностей.</h3>
			<p>
				В Lumen имеется несколько сущностей для объявления: связки, типы, классы типов и модули. <br>
				
			</p> 
					<h3>Объявление связок</h3>
					<p>
						Связки являются условно неизменяемыми именами, связанными с каким-либо значением. Понятие "условно неизменяемые" означает, что 
						вы не можете объявить ранее созданную связку в той же области видимости (<a href=""><span class="lexer-error">Error L010 Identifier is already exists</span></a>), однако интерпретатор 
						имеет право сделять это неявно (см. <a href="lep003">Диспетчеризация функций</a>)<br>

						Объявление связки происходит при помощи ключевого слова <span class="lexer-keyword">let</span>, за которым следует паттерн, знак = и присваиваемое выражение:
						<br>
						<code>
							let &lt;pattern&gt; = &lt;expression&gt;
						</code>

					</p> 
					<h3>Как интерпретировать на .NET</h3>
					<p>
						Было принято простое решение - строить дерево выражений и исполнять его напрямую, что позволяет исполнять код 
						очень динамично. Конечно, скорость исполнения не велика и это может являться проблемой, которая в данный момент 
						не решена, однако существует несколько возможных решений:
						<ul>
							<li>Создание более простого императивного языка, который будет интерпретироваться быстрее. 
								Крайний случай - написание виртуальной машины (возможно использование проекта <a href="../../hybrid/hil/index.html">HIL</a>)</li>
							<li>Использование самой виртуальной машины .NET</li>
							<li>Создание транспилятора в IronRuby или IronPython. В этом случае нам достаточно будет реализовать достаточно простой транспайлер
								в один из этих языков, чтобы получить их эффективность выполнения. Смотреть <a href="lep003">LEP-003. Проект Ferrum.</a></li>
							<li>Создание транспилятора в JavaScript и его использование в связке с JavaScript.NET, Смотреть <a href="lep003">LEP-002. Проект Photon.</a></li>
						</ul>
						
					</p> 
				</div>
    <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
    <script src="https://cdn.metroui.org.ua/v4/js/metro.min.js"></script>
  </body>
</html>