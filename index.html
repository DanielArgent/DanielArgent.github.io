<!DOCTYPE html>

<html>
	<head>
	  	<title>std.vec</title>
		<link rel="stylesheet" href="style.css">
  	</head>
	<body>
		  <div class="pageHeader" style="font-size:16pt;font-weight:bold;"> 
			std.vec 
		</div>

    	<div style="padding-left:10px;padding-right:10px;padding-bottom:10px;">
			<h1>Определение</h1>

			<div class="example">
				[<span class="lexer_Keyword">constructor</span>]<br>
				<span class="lexer_Keyword">let</span> <span class="lexer_Variant">vec</span>(...args) := ...
			</div>

		  	<div style="padding-bottom:5px">
				Функция создаёт объект вектора. Вектор представляет собой проиндексированную последовательность 
				значений переменной длины. Индексация элементов начинается с нуля, вектора поддерживают 
				вставку, добавление и удаление элементов. Пример использования:
			</div>

			<div class="example">
				<span class="lexer_Keyword">let</span> my_vec := <span class="lexer_Variant">vec</span>(5, 2, 6)<br>
				print(my_vec) <span class="lexer_Comment">#=> [5, 2, 6]</span><br>
				my_vec += <span class="lexer_Keyword">true</span><br>
				print(my_vec[3]) <span class="lexer_Comment">#=> true</span><br>
			</div>
			
			<div style="padding-bottom:5px">
				В примере выше мы сначала определили вектор с 3 числами, а затем добавили значение логического типа.
			</div>

			<h1>Операторы</h1>
			<h3>* (unary)</h3>
			<div class="example">
				<span class="lexer_Keyword">let</span> <span class="lexer_Variant">vec</span>.*(): <span class="lexer_Variant">num</span> := ...
			</div>
			<div style="padding-bottom:5px">Возвращает количество элементов в векторе.</div>
			<div class="example">
				<span class="lexer_Keyword">let</span> v := <span class="lexer_Variant">vec</span>(<span class="lexer_Number">1</span>, 
														   <span class="lexer_Number">2</span>, <span class="lexer_Number">3</span>)<br>
				print(*v) <span class="lexer_Comment">#=> 3</span>
			</div>

			<h3>+</h3>
			<div class="example">
				<span class="lexer_Keyword">let</span> <span class="lexer_Variant">vec</span>.+(other): <span class="lexer_Variant">vec</span> := ...
			</div>
			<div style="padding-bottom:5px">Копирует вектор, добавляет <code>other</code> в его конец и возвращает результат.</div>
			<div class="example">
				<span class="lexer_Keyword">let</span> v := 
					<span class="lexer_Variant">vec</span>(<span class="lexer_Number">1</span>, 
														   <span class="lexer_Number">2</span>, <span class="lexer_Number">3</span>)<br>
				print(v + <span class="lexer_Number">6</span>) <span class="lexer_Comment">#=> [1, 2, 3, 6]</span><br>
				print(v) <span class="lexer_Comment">#=> [1, 2, 3]</span>
			</div>

			<h3>-</h3>
			<div class="example">
				<span class="lexer_Keyword">let</span> <span class="lexer_Variant">vec</span>.-(other: <span class="lexer_Variant">vec</span> | <span class="lexer_Variant">seq</span>): <span class="lexer_Variant">vec</span> := ...
			</div>
			<div style="padding-bottom:5px">Находит разность двух последовательностей.</div>
			<div class="example">
				<span class="lexer_Keyword">let</span> v1 := 
					<span class="lexer_Variant">vec</span>(<span class="lexer_Number">1</span>, 
														   <span class="lexer_Number">2</span>, 
														   <span class="lexer_Number">3</span>,
														   <span class="lexer_Number">4</span>)<br>
				<span class="lexer_Keyword">let</span> v2 := 
					<span class="lexer_Variant">vec</span>(<span class="lexer_Number">2</span>, 
														   <span class="lexer_Number">4</span>)<br>									   
				print(v1 - v2) <span class="lexer_Comment">#=> [1, 3]</span>
			</div>

			<h3>/</h3>
			<div class="example">
				<span class="lexer_Keyword">let</span> <span class="lexer_Variant">vec</span>./(func: <span class="lexer_Variant">fun</span>) := ...
			</div>
			<div style="padding-bottom:5px">Редуцирует значения вектора при помощи функции <code>func</code></div>
			<div class="example">
				<span class="lexer_Keyword">let</span> v := 
					<span class="lexer_Variant">vec</span>(<span class="lexer_Number">2</span>, 
														   <span class="lexer_Number">2</span>, <span class="lexer_Number">3</span>)<br>
				print(v / (x, y) := x + y) <span class="lexer_Comment">#=> 7</span><br>
				print(v / (x, y) := x * y) <span class="lexer_Comment">#=> 12</span><br>
			</div>

			<h3>*</h3>
			<div class="example">
				<span class="lexer_Keyword">let</span> <span class="lexer_Variant">vec</span>.*(other: <span class="lexer_Variant">num</span> | <span class="lexer_Variant">str</span> | <span class="lexer_Variant">fun</span>): <span class="lexer_Variant">vec</span> := ...
			</div>
			<div style="padding-bottom:5px">
				Если <code>other</code> имеет тип <code><span class="lexer_Variant">num</span></code> - вектор повторяется <code>other</code> раз.
				Если <code>other</code> имеет тип <code><span class="lexer_Variant">str</span></code> - поведение аналогично методу <code>join</code>.
				Если <code>other</code> имеет тип <code><span class="lexer_Variant">fun</span></code> - поведение аналогично методу <code>each</code>.
			</div>
			<div class="example">
				<span class="lexer_Keyword">let</span> v := 
					<span class="lexer_Variant">vec</span>(<span class="lexer_Number">1</span>, 
														   <span class="lexer_Number">2</span>, <span class="lexer_Number">3</span>)<br>
				print(v * <span class="lexer_Number">3</span>) <span class="lexer_Comment">#=> [1, 2, 3, 1, 2, 3, 1, 2, 3]</span><br>
				print(v * <span class="lexer_String">", "</span>) <span class="lexer_Comment">#=> 1, 2, 3</span><br>
				print(v * (x) := x * x) <span class="lexer_Comment">#=> [1, 4, 9]</span>
			</div>

			<h3>=</h3>
			<div class="example">
				<span class="lexer_Keyword">let</span> <span class="lexer_Variant">vec</span>.=(other): <span class="lexer_Variant">bool</span> := ...
			</div>
			<div style="padding-bottom:5px">Проверяет вектор и <code>other</code> на равенство.</div>
			<div class="example">
				<span class="lexer_Keyword">let</span> v := 
					<span class="lexer_Variant">vec</span>(<span class="lexer_Number">1</span>, 
														   <span class="lexer_Number">2</span>, <span class="lexer_Number">3</span>)<br>
				print(v = 7) <span class="lexer_Comment">#=> false</span><br>
				print(v = <span class="lexer_Variant">vec</span>(<span class="lexer_Number">1</span>, 
				<span class="lexer_Number">2</span>, <span class="lexer_Number">3</span>)) <span class="lexer_Comment">#=> true</span><br>
			</div>

			<h3>&lt;&gt;</h3>
			<div class="example">
				<span class="lexer_Keyword">let</span> <span class="lexer_Variant">vec</span>.&lt;&gt;(other): <span class="lexer_Variant">bool</span> := ...
			</div>
			<div style="padding-bottom:5px">Проверяет вектор и <code>other</code> на не равенство.</div>
			<div class="example">
				<span class="lexer_Keyword">let</span> v := 
					<span class="lexer_Variant">vec</span>(<span class="lexer_Number">1</span>, 
														   <span class="lexer_Number">2</span>, <span class="lexer_Number">3</span>)<br>
				print(v &lt;&gt; 7) <span class="lexer_Comment">#=> true</span><br>
				print(v &lt;&gt; <span class="lexer_Variant">vec</span>(<span class="lexer_Number">1</span>, 
				<span class="lexer_Number">2</span>, <span class="lexer_Number">3</span>)) <span class="lexer_Comment">#=> false</span><br>
			</div>

			<h1>Функции</h1>
			<h3>add</h3>
			<div class="example">
				<span class="lexer_Keyword">let</span> <span class="lexer_Variant">vec</span>.add(...elements): <span class="lexer_Variant">num</span> := ...
			</div>
			<div style="padding-bottom:5px">Копирует вектор, добавляет <code>other</code> в его конец и возвращает результат.</div>
			<div class="example">
				<span class="lexer_Keyword">let</span> v := 
					<span class="lexer_Variant">vec</span>(<span class="lexer_Number">1</span>, 
														   <span class="lexer_Number">2</span>, <span class="lexer_Number">3</span>)<br>
				print(v + <span class="lexer_Number">6</span>) <span class="lexer_Comment">#=> [1, 2, 3, 6]</span>
				print(v) <span class="lexer_Comment">#=> [1, 2, 3]</span>
			</div>

			<h3>pop</h3>
			<div class="example">
				<span class="lexer_Keyword">let</span> <span class="lexer_Variant">vec</span>.pop() := ...
			</div>
			<div style="padding-bottom:5px">Копирует вектор, добавляет <code>other</code> в его конец и возвращает результат.</div>
			<div class="example">
				<span class="lexer_Keyword">let</span> v := 
					<span class="lexer_Variant">vec</span>(<span class="lexer_Number">1</span>, 
														   <span class="lexer_Number">2</span>, <span class="lexer_Number">3</span>)<br>
				print(v + <span class="lexer_Number">6</span>) <span class="lexer_Comment">#=> [1, 2, 3, 6]</span>
				print(v) <span class="lexer_Comment">#=> [1, 2, 3]</span>
			</div>
		</div>
  </body>
</html>
