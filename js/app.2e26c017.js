(function(t){function e(e){for(var r,a,s=e[0],c=e[1],u=e[2],l=0,d=[];l<s.length;l++)a=s[l],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&d.push(o[a][0]),o[a]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);f&&f(e);while(d.length)d.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],r=!0,a=1;a<n.length;a++){var s=n[a];0!==o[s]&&(r=!1)}r&&(i.splice(e--,1),t=c(c.s=n[0]))}return t}var r={},a={app:0},o={app:0},i=[];function s(t){return c.p+"js/"+({}[t]||t)+"."+{"chunk-2d0b1f89":"b8ee831b","chunk-2d2384c0":"2708a4d3","chunk-348d50e1":"d99211db","chunk-4f084036":"c371f2c1","chunk-ba49d9f0":"3c50ecfa","chunk-bf2ed9e2":"071e5875"}[t]+".js"}function c(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(t){var e=[],n={"chunk-348d50e1":1,"chunk-4f084036":1,"chunk-ba49d9f0":1,"chunk-bf2ed9e2":1};a[t]?e.push(a[t]):0!==a[t]&&n[t]&&e.push(a[t]=new Promise((function(e,n){for(var r="css/"+({}[t]||t)+"."+{"chunk-2d0b1f89":"31d6cfe0","chunk-2d2384c0":"31d6cfe0","chunk-348d50e1":"3b90219f","chunk-4f084036":"9a1c50b7","chunk-ba49d9f0":"726ad5f6","chunk-bf2ed9e2":"726ad5f6"}[t]+".css",o=c.p+r,i=document.getElementsByTagName("link"),s=0;s<i.length;s++){var u=i[s],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===r||l===o))return e()}var d=document.getElementsByTagName("style");for(s=0;s<d.length;s++){u=d[s],l=u.getAttribute("data-href");if(l===r||l===o)return e()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=e,f.onerror=function(e){var r=e&&e.target&&e.target.src||o,i=new Error("Loading CSS chunk "+t+" failed.\n("+r+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=r,delete a[t],f.parentNode.removeChild(f),n(i)},f.href=o;var p=document.getElementsByTagName("head")[0];p.appendChild(f)})).then((function(){a[t]=0})));var r=o[t];if(0!==r)if(r)e.push(r[2]);else{var i=new Promise((function(e,n){r=o[t]=[e,n]}));e.push(r[2]=i);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,c.nc&&l.setAttribute("nonce",c.nc),l.src=s(t);var d=new Error;u=function(e){l.onerror=l.onload=null,clearTimeout(f);var n=o[t];if(0!==n){if(n){var r=e&&("load"===e.type?"missing":e.type),a=e&&e.target&&e.target.src;d.message="Loading chunk "+t+" failed.\n("+r+": "+a+")",d.name="ChunkLoadError",d.type=r,d.request=a,n[1](d)}o[t]=void 0}};var f=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(e)},c.m=t,c.c=r,c.d=function(t,e,n){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)c.d(n,r,function(e){return t[e]}.bind(null,r));return n},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/",c.oe=function(t){throw console.error(t),t};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=e,u=u.slice();for(var d=0;d<u.length;d++)e(u[d]);var f=l;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";n("9085")},"0875":function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"title-input"},[t.title?n("h4",[t._v(t._s(t.title))]):t._e(),n("input",{staticClass:"title-input__input",attrs:{type:"text",placeholder:"Input title"},domProps:{value:t.value},on:{input:function(e){return t.$emit("input",e.target.value)}}})])},a=[],o={name:"TitleInput",props:{value:String,title:String}},i=o,s=(n("7488"),n("2877")),c=Object(s["a"])(i,r,a,!1,null,"04ac7a17",null);e["a"]=c.exports},"17fb":function(t,e,n){"use strict";n("2184")},2184:function(t,e,n){},"23e1":function(t,e,n){"use strict";n("8e29")},"2c5c":function(t,e,n){"use strict";n("5637")},3318:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"autors-input"},[t.title?n("h4",[t._v(t._s(t.title))]):t._e(),n("input",{directives:[{name:"model",rawName:"v-model",value:t.textSearch,expression:"textSearch"}],staticClass:"autors-input__input",attrs:{type:"text",placeholder:"Input autor name"},domProps:{value:t.textSearch},on:{focus:t.showOptions,blur:t.hideOptions,input:function(e){e.target.composing||(t.textSearch=e.target.value)}}}),n("ul",{directives:[{name:"show",rawName:"v-show",value:t.isOptionsShown,expression:"isOptionsShown"}],staticClass:"options"},[t._l(t.filteredOptions,(function(e){return n("li",{key:e,staticClass:"options__item",on:{click:function(n){return t.addItem(e)}}},[t._t("default",[t._v(t._s(e))],{item:e})],2)})),0!==t.filteredOptions.length||t.allowCreation?t._e():n("li",{staticClass:"options__item options__item-error"},[t._v(" Autor not found ")]),0===t.filteredOptions.length&&t.allowCreation?n("li",{staticClass:"options__item options__item-error",on:{click:function(e){return t.onCreateAutor()}}},[t._v(" Create autor '"+t._s(t.textSearch)+"' ")]):t._e()],2),n("span",{directives:[{name:"show",rawName:"v-show",value:0!==t.selectedItems.length,expression:"selectedItems.length !== 0"}],staticClass:"selected__title"},[t._v(" Selected autors: ")]),n("div",{staticClass:"selected"},t._l(t.value,(function(e,r){return n("div",{key:r,staticClass:"selected-item"},[t._t("selected",[t._v(t._s(e))],{item:e}),n("button",{staticClass:"selected-item__close-button",on:{click:function(e){return e.preventDefault(),t.removeItem(r)}}},[t._v(" Ã— ")])],2)})),0)])},a=[],o=(n("4de4"),n("caad"),n("a434"),n("2532"),n("5530")),i=n("2f62"),s={name:"AutorsInput",props:{value:{type:Array,default:function(){return[]}},title:{type:String,default:""},allowCreation:{type:Boolean,default:!1}},data:function(){return{textSearch:"",isOptionsShown:!1}},computed:Object(o["a"])(Object(o["a"])({},Object(i["c"])(["autors"])),{},{filteredOptions:function(){var t=this;return this.autors.filter((function(e){return e.toLowerCase().includes(t.textSearch.toLowerCase())&&!t.isSelected(e)}))},selectedItems:function(){return this.value}}),methods:Object(o["a"])(Object(o["a"])({},Object(i["d"])(["createAutor"])),{},{hideOptions:function(){var t=this;setTimeout((function(){return t.isOptionsShown=!1}),150)},isSelected:function(t){return this.selectedItems.includes(t)},showOptions:function(){this.isOptionsShown=!0},selectItem:function(t){this.textSearch="",this.isOptionsShown=!1,this.$emit("input",t),this.$emit("onSelectItem",t)},clearItem:function(){this.textSearch="",this.$emit("input",{id:void 0,title:void 0}),this.$emit("onClearItem")},addItem:function(t){if(!this.isSelected(t)){this.textSearch="",this.isOptionsShown=!1;var e=JSON.parse(JSON.stringify(this.value));e.push(t),this.$emit("input",e),this.$emit("onAutorSelected",e)}},removeItem:function(t){this.textSearch="";var e=this.value;e.splice(t,1),this.$emit("input",e),this.$emit("onAutorRemoved",e),console.log("REMOVED",this.value)},onCreateAutor:function(){this.createAutor(this.textSearch),this.addItem(this.textSearch)}})},c=s,u=(n("51b1"),n("2877")),l=Object(u["a"])(c,r,a,!1,null,"90355dc4",null);e["a"]=l.exports},"35a4":function(t,e,n){},4345:function(t,e,n){"use strict";n("a8fb")},"458d":function(t,e,n){"use strict";n("afc2")},"510e":function(t,e,n){"use strict";n("f974")},5126:function(t,e,n){},"51b1":function(t,e,n){"use strict";n("85e5")},5637:function(t,e,n){},"56bb":function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"isbn-input"},[t.title?n("h4",[t._v(t._s(t.title))]):t._e(),n("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"value"}],staticClass:"isbn-input__input",attrs:{type:"text",placeholder:"Input ISBN"},domProps:{value:t.value},on:{input:function(e){e.target.composing||(t.value=e.target.value)}}}),t.error?n("div",{staticClass:"isbn-input__error"},[t._v(t._s(t.error))]):t._e()])},a=[],o=(n("99af"),n("c975"),n("d81d"),n("a9e3"),n("25eb"),n("ac1f"),n("5319"),n("2909")),i=n("b85c");function s(t){return 9===t.length}function c(t){return 10===t.length}function u(t){return 13===t.length}function l(t){return s(t)||c(t)||u(t)}function d(t){return s(t)?"SBN":c(t)?"ISBN-10":"ISBN-13"}function f(t){var e,n=s(t)||c(t)?"0123456789Xx":"0123456789",r=Object(i["a"])(t);try{for(r.s();!(e=r.n()).done;){var a=e.value;if(-1===n.indexOf(a))return a}}catch(o){r.e(o)}finally{r.f()}return!1}function p(t){return Object(o["a"])(t).map((function(t){return"x"===t.toLowerCase()?10:Number.parseInt(t)}))}function h(t){for(var e=0,n=0;n<9;n++)e+=(11-n)*t[n];return(11-e%11)%11}function m(t){function e(t){return t%2===1?1:3}for(var n=0,r=0;r<12;r++)n+=e(r)*t[r];return(10-n%10)%10}function v(t){var e=p(t),n=h(e);return e[e.length-1]===n}function g(t){var e=p(t),n=m(e);return e[e.length-1]===n}function b(t){var e="0"+t;return v(e)?{result:e,isError:!1}:{result:"Error: SBN invalid checksum",isError:!0}}function y(t){if(!v(t))return{result:"Error: ISBN-10 invalid checksum",isError:!0};var e="978"+t.substring(0,9);return{result:e+m(p(e)),isError:!1}}function _(t){if(u(t))return g(t)?{result:t,isError:!1}:{result:"Error: ISBN-13 invalid checksum",isError:!0};if(s(t)){var e=b(t);return e.isError?e:y(e.result)}return y(t)}function k(t){var e=t.replace(/[- ]/g,"");if(!l(e))return"Error: ISBN should contain 9, 10 or 13 digits";var n=f(e);if(n){var r=d(e);return"Error: ".concat(r," can not contain character '").concat(n,"'")}var a=_(e);return a.isError?a.result:null}var C={name:"IsbnInput",props:{title:String,initialValue:{type:String,default:""}},data:function(){return{value:"",error:null}},created:function(){this.value=this.initialValue},watch:{value:function(t){var e=k(t);this.error=0===t.length?null:e,this.$emit("isbn-changed",{value:t,error:e})}}},O=C,x=(n("458d"),n("2877")),w=Object(x["a"])(O,r,a,!1,null,"64124d9e",null);e["a"]=w.exports},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),a=n("2f62"),o=(n("d3b7"),n("b85c")),i=(n("96cf"),n("1da1")),s={name:"Guest",avatar:"/assets/guest-avatar.svg",type:"guest"},c={actions:{fetchUser:function(t,e){return Object(i["a"])(regeneratorRuntime.mark((function n(){var r,a,i,s,c,u,l;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.login,a=e.password,n.next=3,fetch("./assets/data/users.json");case 3:return i=n.sent,n.next=6,i.json();case 6:s=n.sent,c=Object(o["a"])(s),n.prev=8,c.s();case 10:if((u=c.n()).done){n.next=17;break}if(l=u.value,l.login.toLowerCase()!=r.toLowerCase()){n.next=15;break}return l.password==a?t.commit("updateUser",l.userInfo):t.commit("updateError","Error: password is incorrect!"),n.abrupt("return");case 15:n.next=10;break;case 17:n.next=22;break;case 19:n.prev=19,n.t0=n["catch"](8),c.e(n.t0);case 22:return n.prev=22,c.f(),n.finish(22);case 25:t.commit("updateError","Error: there are no user with that login!");case 26:case"end":return n.stop()}}),n,null,[[8,19,22,25]])})))()}},mutations:{updateUser:function(t,e){t.user=e,t.errorMessage=null},updateError:function(t,e){t.errorMessage=e}},state:{user:s,errorMessage:null},getters:{currentUser:function(t){return t.user},error:function(t){return t.errorMessage}}},u=(n("a4d3"),n("e01a"),n("caad"),n("c975"),n("a434"),n("6062"),n("2532"),n("3ca3"),n("ddb0"),n("2909")),l={items:[]},d={actions:{fetchCatalog:function(t){return Object(i["a"])(regeneratorRuntime.mark((function e(){var n,r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch("./assets/data/catalog.json");case 2:return n=e.sent,e.next=5,n.json();case 5:r=e.sent,a=b(y(r)),t.commit("updateCatalog",r),t.commit("updateAutors",a);case 9:case"end":return e.stop()}}),e)})))()}},mutations:{updateCatalog:function(t,e){t.catalog=e},updateAutors:function(t,e){t.autors=e},createAutor:function(t,e){t.autors.includes(e)||t.autors.push(e)},addTo:function(t,e){var n=e.id,r=e.value,a=m(t.catalog,n);if(!a)throw"Category with id ".concat(n," not found.");a.items.push(r)},updateBook:function(t,e){var n=e.isbn,r=e.data,a=v(t.catalog,n).book;a.title=r.title,a.isbn=r.isbn,a.autors=r.autors,a.description=r.description},updateCategory:function(t,e){var n=e.id,r=e.data,a=m(t.catalog,n);a.title=r.title},deleteCategory:function(t,e){h(t.catalog,e)},deleteBook:function(t,e){g(t.catalog,e)},addFilters:function(t,e){var n;(n=t.filters).push.apply(n,Object(u["a"])(e))},clearFilters:function(t,e){var n,r=Object(o["a"])(e);try{for(r.s();!(n=r.n()).done;){var a=n.value,i=t.filters.indexOf(a);a>=0&&t.filters.splice(i,1)}}catch(s){r.e(s)}finally{r.f()}},updateFilter:function(t){function e(t){return t}t.filters=e(t.filters)}},state:{catalog:l,autors:[],filters:[]},getters:{catalog:function(t){return t.catalog},autors:function(t){return t.autors},findBookWithPathByIsbn:function(t){return function(e){return v(t.catalog,e)}},findCategoryById:function(t){return function(e){return m(t.catalog,e)}},filteredCatalog:function(t){return _(t.catalog,t.filters)||l}}};function f(t){return"category"===t.type}function p(t){return"book"===t.type}function h(t,e){for(var n=0;n<t.items.length;n++){var r=t.items[n];if(r.id===e)return t.items.splice(n,1),!0;if(f(r)&&h(r,e))return!0}return!1}function m(t,e){if(t.id===e)return t;var n,r=Object(o["a"])(t.items);try{for(r.s();!(n=r.n()).done;){var a=n.value;if(f(a)){var i=m(a,e);if(i)return i}}}catch(s){r.e(s)}finally{r.f()}}function v(t,e){if(f(t)){var n,r=Object(o["a"])(t.items);try{for(r.s();!(n=r.n()).done;){var a=n.value;if(f(a)){var i=v(a,e);if(i)return i.path.unshift(t),i}else if(e===a.isbn)return{book:a,path:[t]}}}catch(s){r.e(s)}finally{r.f()}}}function g(t,e){for(var n=0;n<t.items.length;n++){var r=t.items[n];if(p(r)&&r.isbn===e)return t.items.splice(n,1),!0;if(f(r)&&g(r,e))return!0}return!1}function b(t){return Object(u["a"])(new Set(t))}function y(t){var e=[];if(f(t)){var n,r=Object(o["a"])(t.items);try{for(r.s();!(n=r.n()).done;){var a=n.value;e.push.apply(e,Object(u["a"])(y(a)))}}catch(i){r.e(i)}finally{r.f()}}else p(t)&&e.push.apply(e,Object(u["a"])(t.autors));return e}function _(t,e){var n,r=t,a=Object(o["a"])(e);try{for(a.s();!(n=a.n()).done;){var i=n.value;r=k(r,i)}}catch(s){a.e(s)}finally{a.f()}return r}function k(t,e){if(!t)return t;var n,r=[],a=Object(o["a"])(t.items);try{for(a.s();!(n=a.n()).done;){var i=n.value;if(f(i)){var s=k(i,e);s&&r.push(s)}else e(i)&&r.push(i)}}catch(c){a.e(c)}finally{a.f()}return 0===r.length?e(t)?{type:t.type,id:t.id,title:t.title,items:r}:null:{type:t.type,id:t.id,title:t.title,items:r}}r["a"].use(a["a"]);var C=new a["a"].Store({modules:{user:c,catalog:d}}),O=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app"},[n("Header"),n("keep-alive",{attrs:{include:"Home"}},[n("router-view")],1)],1)},x=[],w=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("header",{staticClass:"header"},[r("div",{staticClass:"header__logo"},[t._v("LibraryManager")]),r("user-info"),r("router-link",{staticClass:"header__autorize-link",attrs:{to:"/autorization"}},[r("img",{attrs:{src:n("6bf5")}})])],1)},j=[],S=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"user-info"},[n("img",{staticClass:"user-info__avatar",attrs:{src:t.currentUser.avatar}}),n("span",{staticClass:"user-info__name"},[t._v(t._s(t.currentUser.name))])])},E=[],I={name:"UserInfo",computed:Object(a["c"])(["currentUser"])},A=I,B=(n("17fb"),n("2877")),$=Object(B["a"])(A,S,E,!1,null,"183dfc3f",null),T=$.exports,N={name:"Header",components:{UserInfo:T}},M=N,F=(n("fbe0"),Object(B["a"])(M,w,j,!1,null,"0d708f78",null)),P=F.exports,L={name:"App",components:{Header:P}},U=L,R=(n("034f"),Object(B["a"])(U,O,x,!1,null,null,null)),H=R.exports,D=n("8c4f"),z=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[n("library-catalog"),n("tools-panel")],1)},J=[],V=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("main",{staticClass:"library-catalog"},[n("h1",{staticClass:"library-catalog__title"},[t._v("Catalog")]),n("catalog-manager",{attrs:{catalog:t.catalog}}),t.filteredCatalog?n("catalog-tree",{attrs:{items:(t.filteredCatalog||{items:[]}).items}}):t._e()],1)},q=[],G=n("5530"),K=n("a692"),W=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.isAdminMode?n("div",{staticClass:"catalog-manager"},[n("button",{staticClass:"manager-action manager-add-book",on:{click:t.addBook}},[t._v("Add Book")]),n("button",{staticClass:"manager-action manager-add-category",on:{click:t.addCategory}},[t._v("Add Category")])]):t._e()},X=[],Q={name:"CatalogManager",props:["catalog"],computed:{isAdminMode:function(){return"admin"===this.$store.getters.currentUser.type}},methods:{addBook:function(){this.$router.push("addBookTo/"+this.catalog.id)},addCategory:function(){this.$router.push("addCategoryTo/"+this.catalog.id)}}},Y=Q,Z=(n("2c5c"),Object(B["a"])(Y,W,X,!1,null,"6882983e",null)),tt=Z.exports,et={name:"LibraryCatalog",methods:Object(a["b"])(["fetchCatalog"]),computed:Object(G["a"])({},Object(a["c"])(["catalog","filteredCatalog"])),components:{CatalogTree:K["default"],CatalogManager:tt},created:function(){this.fetchCatalog()}},nt=et,rt=(n("23e1"),Object(B["a"])(nt,V,q,!1,null,"78db6362",null)),at=rt.exports,ot=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("aside",{staticClass:"tools-panel"},[n("form",{staticClass:"tools-panel__form"},[n("title-input",{attrs:{title:"Find by title"},model:{value:t.searchText,callback:function(e){t.searchText=e},expression:"searchText"}}),n("autors-input",{attrs:{title:"Filter by autor"},model:{value:t.selectedAutors,callback:function(e){t.selectedAutors=e},expression:"selectedAutors"}}),n("isbn-search",{attrs:{title:"Find by ISBN"}})],1)])},it=[],st=(n("a623"),n("3318")),ct=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"isbn-search"},[n("isbn-input",{attrs:{title:t.title},on:{"!isbn-changed":function(e){return t.onIsbnChanged(e)}}}),n("button",{directives:[{name:"show",rawName:"v-show",value:!t.hasError,expression:"!hasError"}],staticClass:"isbn-search__button",on:{"!click":function(e){return e.preventDefault(),t.onSearch(e)}}},[t._v(" Search ")])],1)},ut=[],lt=n("56bb"),dt={name:"IsbnSearch",props:{title:String},data:function(){return{value:"",hasError:!0}},methods:{onIsbnChanged:function(t){var e=t.value,n=t.error;this.value=e,this.hasError=!!n},onSearch:function(){this.$router.push("book/"+this.value)}},components:{IsbnInput:lt["a"]}},ft=dt,pt=(n("83e9"),Object(B["a"])(ft,ct,ut,!1,null,"3442a62c",null)),ht=pt.exports,mt=n("0875"),vt={name:"ToolsPanel",data:function(){return{selectedAutors:[],searchText:""}},props:{autors:Array},components:{AutorsInput:st["a"],IsbnSearch:ht,TitleInput:mt["a"]},methods:Object(G["a"])(Object(G["a"])({},Object(a["d"])(["addFilters","clearFilters","updateFilter"])),{},{autorsFilter:function(t){return t&&t.autors&&this.selectedAutors.every((function(e){return t.autors.includes(e)}))},titleFilter:function(t){return t&&t.title&&t.title.toLowerCase().includes(this.searchText.toLowerCase())}}),created:function(){this.addFilters([this.autorsFilter,this.titleFilter])},beforeDestroy:function(){this.clearFilters([this.autorsFilter,this.titleFilter])},watch:{searchText:function(){this.updateFilter()},selectedAutors:function(){this.updateFilter()}}},gt=vt,bt=(n("510e"),Object(B["a"])(gt,ot,it,!1,null,"16f90632",null)),yt=bt.exports,_t={name:"Home",components:{LibraryCatalog:at,ToolsPanel:yt}},kt=_t,Ct=(n("4345"),Object(B["a"])(kt,z,J,!1,null,"8911ac94",null)),Ot=Ct.exports;r["a"].use(D["a"]);var xt=[{path:"/",name:"Home",component:Ot},{path:"/autorization",name:"Autorization",component:function(){return n.e("chunk-4f084036").then(n.bind(null,"a597"))}},{path:"/book/:isbn",name:"Book",component:function(){return n.e("chunk-348d50e1").then(n.bind(null,"8bf3"))}},{path:"/addBookTo/:id",name:"AddBook",component:function(){return n.e("chunk-bf2ed9e2").then(n.bind(null,"927c"))}},{path:"/addCategoryTo/:id",name:"AddCategory",component:function(){return n.e("chunk-2d2384c0").then(n.bind(null,"ff7a"))}},{path:"/editBook/:isbn",name:"EditBook",component:function(){return n.e("chunk-ba49d9f0").then(n.bind(null,"447c"))}},{path:"/editCategory/:id",name:"EditCategory",component:function(){return n.e("chunk-2d0b1f89").then(n.bind(null,"21b6"))}}],wt=new D["a"]({mode:"history",base:"/",routes:xt}),jt=wt;n("7d05");r["a"].config.productionTip=!1,new r["a"]({store:C,router:jt,render:function(t){return t(H)}}).$mount("#app")},"605a":function(t,e,n){"use strict";n("35a4")},"6bf5":function(t,e,n){t.exports=n.p+"img/autorization-icon.10e8f55a.svg"},7488:function(t,e,n){"use strict";n("9c9f")},"7d05":function(t,e,n){},8212:function(t,e,n){"use strict";n("d53a")},"83e9":function(t,e,n){"use strict";n("b86d")},"85e5":function(t,e,n){},"8e29":function(t,e,n){},9085:function(t,e,n){},"97cc":function(t,e,n){"use strict";n("a9ce")},"9c9f":function(t,e,n){},a692:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",{staticClass:"catalog-tree"},[t._l(t.categories,(function(t){return n("category-item",{key:t.id,attrs:{category:t}})})),t._l(t.books,(function(t){return n("book-item",{key:t.isbn,attrs:{book:t}})}))],2)},a=[],o=(n("4de4"),function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("li",{staticClass:"category-item"},[r("img",{staticClass:"category-item__label",class:{expanded:t.expanded},attrs:{src:n("ccc7")}}),r("span",{staticClass:"category-item__title",on:{click:t.toggleState}},[t._v(t._s(t.category.title))]),r("category-manager",{directives:[{name:"show",rawName:"v-show",value:t.expanded,expression:"expanded"}],attrs:{category:t.category}}),r("catalog-tree",{directives:[{name:"show",rawName:"v-show",value:t.expanded,expression:"expanded"}],attrs:{items:t.category.items}})],1)}),i=[],s=(n("d3b7"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.isAdminMode?n("div",{staticClass:"category-manager"},[n("button",{staticClass:"manager-action manager-add-book",on:{click:t.addBook}},[t._v("Add Book")]),n("button",{staticClass:"manager-action manager-add-category",on:{click:t.addCategory}},[t._v("Add Category")]),n("button",{staticClass:"manager-action manager-remove",on:{click:t.remove}},[t._v("Remove")]),n("button",{staticClass:"manager-action manager-edit",on:{click:t.edit}},[t._v("Edit")])]):t._e()}),c=[],u=n("5530"),l=n("2f62"),d={name:"CategoryManager",props:["category"],computed:{isAdminMode:function(){return"admin"===this.$store.getters.currentUser.type}},methods:Object(u["a"])(Object(u["a"])({},Object(l["d"])(["deleteCategory"])),{},{addBook:function(){this.$router.push("addBookTo/"+this.category.id)},addCategory:function(){this.$router.push("addCategoryTo/"+this.category.id)},edit:function(){this.$router.push("editCategory/"+this.category.id)},remove:function(){confirm("Are you sure?")&&this.deleteCategory(this.category.id)}})},f=d,p=(n("605a"),n("2877")),h=Object(p["a"])(f,s,c,!1,null,"1a55829e",null),m=h.exports,v={name:"CategoryItem",props:["category"],data:function(){return{expanded:!1}},methods:{toggleState:function(){this.expanded=!this.expanded}},components:{CatalogTree:function(){return Promise.resolve().then(n.bind(null,"a692"))},CategoryManager:m}},g=v,b=(n("97cc"),Object(p["a"])(g,o,i,!1,null,"7934c9e6",null)),y=b.exports,_=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",{staticClass:"book-item"},[n("router-link",{attrs:{to:"/book/"+t.book.isbn}},[t._v(" "+t._s(t.book.title)+" ")]),n("book-manager",{attrs:{book:t.book}})],1)},k=[],C=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.isAdminMode?n("div",{staticClass:"book-manager"},[n("button",{staticClass:"manager-action manager-remove",on:{click:t.remove}},[t._v("Remove")]),n("button",{staticClass:"manager-action manager-edit",on:{click:t.edit}},[t._v("Edit")])]):t._e()},O=[],x={name:"BookManager",props:["book"],computed:{isAdminMode:function(){return"admin"===this.$store.getters.currentUser.type}},methods:Object(u["a"])(Object(u["a"])({},Object(l["d"])(["deleteBook"])),{},{remove:function(){confirm("Are you sure?")&&this.deleteBook(this.book.isbn)},edit:function(){this.$router.push("editBook/"+this.book.isbn)}})},w=x,j=(n("8212"),Object(p["a"])(w,C,O,!1,null,"4d651d8d",null)),S=j.exports,E={name:"BookItem",props:["book"],components:{BookManager:S}},I=E,A=(n("ea17"),Object(p["a"])(I,_,k,!1,null,"6176a5a4",null)),B=A.exports,$={name:"catalog-tree",props:{items:Array},computed:{books:function(){return this.items.filter((function(t){return"book"===t.type}))},categories:function(){return this.items.filter((function(t){return"category"===t.type}))}},components:{CategoryItem:y,BookItem:B}},T=$,N=(n("fb86"),Object(p["a"])(T,r,a,!1,null,null,null));e["default"]=N.exports},a8fb:function(t,e,n){},a9ce:function(t,e,n){},afc2:function(t,e,n){},b7a9:function(t,e,n){},b86d:function(t,e,n){},ccc7:function(t,e,n){t.exports=n.p+"img/expand-button.1d449ad6.svg"},d53a:function(t,e,n){},e08c:function(t,e,n){},ea17:function(t,e,n){"use strict";n("e08c")},f974:function(t,e,n){},fb86:function(t,e,n){"use strict";n("b7a9")},fbe0:function(t,e,n){"use strict";n("5126")}});
//# sourceMappingURL=app.2e26c017.js.map